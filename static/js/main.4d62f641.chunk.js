(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{38:function(e,t,n){e.exports=n(74)},43:function(e,t,n){},44:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(35),r=n.n(o),c=(n(43),n(6)),l=n(7),s=n(9),h=n(8),u=n(10),m=(n(44),n(4)),p=n(16),g=n(1),d=n(15),v=n(3),b=n.n(v),E=n(5),C=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("nav",null,i.a.createElement(m.b,{style:{marginRight:"15px",marginLeft:"15px"},to:"/"},i.a.createElement(E.e,{className:"nav-icon",size:"20px",color:"white"})," Home"),i.a.createElement(m.b,{style:{marginRight:"0px",marginLeft:"15px"},to:"/addmovie"},i.a.createElement(E.a,{className:"nav-icon",size:"20px",color:"white"})," Add Movie"))}}]),t}(i.a.Component),f=n(19),y="http://3.120.96.16:3001/movies/",k=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(h.a)(t).call(this,e))).state={items:[],redirect:!1,inputValue:""},n.source=void 0,n.messageList=i.a.createRef(),n.onDelete=n.onDelete.bind(Object(g.a)(n)),n.onGetData=n.onGetData.bind(Object(g.a)(n)),n.scrollToBottom=n.scrollToBottom.bind(Object(g.a)(n)),n.onChange=n.onChange.bind(Object(g.a)(n)),n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.onGetData()}},{key:"onGetData",value:function(){var e=this,t=b.a.CancelToken;this.source=t.source(),b.a.get(y,{cancelToken:this.source.token}).then((function(t){console.log(t);var n=t.data;console.log(n),e.setState({items:n})}))}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"onDelete",value:function(e){var t=this;b.a.delete(y+e).then((function(){t.onGetData()}))}},{key:"scrollToBottom",value:function(){var e=this.messageList.current.scrollHeight;this.messageList.current.scrollTop=e}},{key:"onChange",value:function(e){e.preventDefault(),this.setState({inputValue:e.target.value})}},{key:"componentWillUnmount",value:function(){b.a.get(y,{cancelToken:this.source.token}).catch((function(e){b.a.isCancel(e)&&console.log("Request canceled",e.message)})),this.source.cancel("Operation canceled by the user.")}},{key:"render",value:function(){var e=this,t=this.state.items;console.log(t);var n,a,o=[];return t.map((function(e){return o.push(e)})),console.log(o),console.log("input value",this.state.inputValue),n=o.map((function(t){var n="/editmovie/"+t.id,o="/movies/"+t.id,r=i.a.createElement("tr",{key:t.id},i.a.createElement("td",null,i.a.createElement(m.b,{style:{marginRight:"10px"},to:o},t.title)),i.a.createElement("td",null,t.director),i.a.createElement("td",null,i.a.createElement(f.a,{value:t.rating,size:"15px",inactiveColor:"#d1d1d1",activeColor:"orange"})),i.a.createElement("td",null,i.a.createElement("button",{className:"options-button",onClick:function(){return e.onDelete(t.id)}},i.a.createElement(E.c,{className:"options-icon",size:"25px",color:"red"})),i.a.createElement("button",{className:"options-button"},i.a.createElement(m.b,{style:{marginRight:"10px"},to:n},i.a.createElement(E.d,{className:"options-icon two",size:"20px",color:"green"})))));if(""!==e.state.inputValue)if(t.title.toLowerCase().includes(e.state.inputValue))a=r;else{if(!t.director.toLowerCase().includes(e.state.inputValue))return null;a=r}else a=r;return a})),i.a.createElement("div",{id:"movie-directory"},i.a.createElement(d.Helmet,null,i.a.createElement("title",null,"Home - Movies Directory")),i.a.createElement("header",null,i.a.createElement(C,null),i.a.createElement("h1",null,"Movies Directory"),i.a.createElement("h3",null,"Share your favorite movies with everyone")),i.a.createElement("div",{className:"search-box"},i.a.createElement("form",{className:"search",onChange:this.onChange},i.a.createElement("input",{type:"text",placeholder:"search movie by title or director's name"}),i.a.createElement("span",{className:"search-icon"},i.a.createElement(E.f,{size:"25px",color:"#c9c9c9"})))),i.a.createElement("div",{className:"movie-list",ref:this.messageList},i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Title"),i.a.createElement("th",null,"Director"),i.a.createElement("th",null,"Rating"),i.a.createElement("th",null))),i.a.createElement("tbody",null,n))))}}]),t}(i.a.Component),D=(n(71),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(h.a)(t).call(this,e))).state={redirect:!1,value:0},n.onSubmit=n.onSubmit.bind(Object(g.a)(n)),n.onChangeTitle=n.onChangeTitle.bind(Object(g.a)(n)),n.onChangeDesc=n.onChangeDesc.bind(Object(g.a)(n)),n.onChangeDir=n.onChangeDir.bind(Object(g.a)(n)),n.onChangeRating=n.onChangeRating.bind(Object(g.a)(n)),n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"onChangeTitle",value:function(e){this.props.onChangeTitle(e.target.value)}},{key:"onChangeDesc",value:function(e){this.props.onChangeDesc(e.target.value)}},{key:"onChangeDir",value:function(e){this.props.onChangeDir(e.target.value)}},{key:"onChangeRating",value:function(e){this.setState({value:e}),console.log(e),this.props.onChangeRating(e)}},{key:"onSubmit",value:function(e){e.preventDefault(),this.props.onSubmit(!0)}},{key:"render",value:function(){var e,t,n,a;return e=void 0!==this.props.rating?this.props.rating:this.state.value,t=this.props.title.length>=1&&this.props.title.length<=40?{color:"#737373"}:{color:"red"},n=this.props.director.length>=1&&this.props.director.length<=40?{color:"#737373"}:{color:"red"},a=this.props.description.length>=1&&this.props.description.length<=300?{color:"#737373"}:{color:"red"},i.a.createElement("div",{className:"form-box"},i.a.createElement("form",{onSubmit:this.onSubmit},i.a.createElement("label",null,"Title:"),i.a.createElement("input",{className:"input-box",style:t,type:"text",value:this.props.title,title:this.props.value,onChange:this.onChangeTitle}),i.a.createElement("span",{className:"inputValue",style:t}," ",this.props.title.length,"/40 characters"),i.a.createElement("label",null,"Director:"),i.a.createElement("input",{className:"input-box",style:n,type:"text",value:this.props.director,director:this.props.value,onChange:this.onChangeDir}),i.a.createElement("span",{className:"inputValue",style:n}," ",this.props.director.length,"/40 characters"),i.a.createElement("label",null,"Description:"),i.a.createElement("textarea",{className:"input-box desc",style:a,type:"text",value:this.props.description,description:this.props.value,onChange:this.onChangeDesc}),i.a.createElement("span",{className:"inputValue",style:a}," ",this.props.description.length,"/300 characters"),i.a.createElement("label",null,"Rating"),i.a.createElement("span",{className:"rating-choice"},i.a.createElement(f.a,{size:"20px",rating:this.props.rating,onChange:this.onChangeRating,value:e,inactiveColor:"#d1d1d1",activeColor:"orange"})),i.a.createElement("button",{className:"submit-button"},"Submit")))}}]),t}(i.a.Component)),O=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(h.a)(t).call(this,e))).state={title:"",description:"",director:"",rating:0,redirect:!1,error:!1},n.onSubmit=n.onSubmit.bind(Object(g.a)(n)),n.onChangeTitle=n.onChangeTitle.bind(Object(g.a)(n)),n.onChangeDesc=n.onChangeDesc.bind(Object(g.a)(n)),n.onChangeDir=n.onChangeDir.bind(Object(g.a)(n)),n.onChangeRating=n.onChangeRating.bind(Object(g.a)(n)),n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"onChangeTitle",value:function(e){this.setState({title:e})}},{key:"onChangeDesc",value:function(e){this.setState({description:e})}},{key:"onChangeDir",value:function(e){this.setState({director:e})}},{key:"onChangeRating",value:function(e){this.setState({rating:e})}},{key:"onSubmit",value:function(e){var t=this,n={title:this.state.title,description:this.state.description,director:this.state.director,rating:this.state.rating};b.a.post("http://3.120.96.16:3001/movies/",n).then((function(e){console.log(e)})).then((function(){t.setState({redirect:e}),t.setState({error:!1})})).catch((function(e){console.log(e),t.setState({error:!0})}))}},{key:"render",value:function(){var e;return this.state.redirect?i.a.createElement(p.a,{to:"/"}):(e=this.state.error?i.a.createElement("div",{className:"warning"},i.a.createElement("p",null,"Error! Changes can not be saved."),i.a.createElement("p",null,"Please check and make sure all inputs are correct!")):null,i.a.createElement("div",{id:"movie-directory"},i.a.createElement(d.Helmet,null,i.a.createElement("title",null,"Add Movie")),i.a.createElement("header",null,i.a.createElement(C,null),i.a.createElement("h1",null,"Add Movies"),i.a.createElement("h3",null,"Share your favorite movies with everyone")),e,i.a.createElement(D,{onSubmit:this.onSubmit,description:this.state.description,onChangeDesc:this.onChangeDesc,director:this.state.director,onChangeDir:this.onChangeDir,rating:this.state.rating,onChangeRating:this.onChangeRating,title:this.state.title,onChangeTitle:this.onChangeTitle})))}}]),t}(i.a.Component),j=(n(72),"http://3.120.96.16:3001/movies/"),S=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(h.a)(t).call(this,e))).state={title:"",description:"",director:"",rating:0,items:{},status:!1,error:!1,error404:!1,redirect:!1,errorNum:0},n.source=void 0,n.onSubmit=n.onSubmit.bind(Object(g.a)(n)),n.onChangeTitle=n.onChangeTitle.bind(Object(g.a)(n)),n.onChangeDesc=n.onChangeDesc.bind(Object(g.a)(n)),n.onChangeDir=n.onChangeDir.bind(Object(g.a)(n)),n.onChangeRating=n.onChangeRating.bind(Object(g.a)(n)),n.onGetData=n.onGetData.bind(Object(g.a)(n)),n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.onGetData(e)}},{key:"onGetData",value:function(e){var t=this,n=b.a.CancelToken;this.source=n.source(),b.a.get(j+e,{cancelToken:this.source.token}).then((function(e){console.log(e);var n=e.data;t.setState({title:n.title,description:n.description,rating:n.rating,director:n.director})})).catch((function(e){console.log(e),t.setState({error404:!0})}))}},{key:"onChangeTitle",value:function(e){this.setState({title:e})}},{key:"onChangeDesc",value:function(e){this.setState({description:e})}},{key:"onChangeDir",value:function(e){this.setState({director:e})}},{key:"onChangeRating",value:function(e){this.setState({rating:e})}},{key:"onSubmit",value:function(e){var t=this,n=this.props.match.params.id,a={title:this.state.title,description:this.state.description,director:this.state.director,rating:this.state.rating};b.a.put(j+n,a).then((function(e){console.log(e)})).then((function(){t.setState({status:e}),t.setState({error:!1}),t.props.history.goBack()})).catch((function(e){console.log(e.response.status),t.setState({error:!0,errorNum:e.response.status})}))}},{key:"componentWillUnmount",value:function(){b.a.get(j,{cancelToken:this.source.token}).catch((function(e){b.a.isCancel(e)&&console.log("Request canceled",e.message)})),this.source.cancel("Operation canceled by the user.")}},{key:"render",value:function(){var e,t;return this.state.status||this.state.error404||this.state.error||(t=i.a.createElement(D,{onSubmit:this.onSubmit,description:this.state.description,onChangeDesc:this.onChangeDesc,director:this.state.director,onChangeDir:this.onChangeDir,rating:this.state.rating,onChangeRating:this.onChangeRating,title:this.state.title,onChangeTitle:this.onChangeTitle})),this.state.error404&&(t=i.a.createElement("div",{className:"content"},i.a.createElement("h2",null,"ERROR 404"),i.a.createElement("h2",null,"Oops! The movie that you are looking for is not here!"),i.a.createElement("p",null,"Maybe the link is not complete or the page has been removed."),i.a.createElement("p",{className:"back-button"},i.a.createElement(m.b,{style:{marginRight:"15px",marginLeft:"0px",color:"rgb(10, 151, 161)"},to:"/"},i.a.createElement(E.b,{className:"nav-icon",size:"20px",color:"rgb(10, 151, 161)"})," Back to movies directory")))),this.state.error?(400===this.state.errorNum?e=i.a.createElement("div",{className:"warning"},i.a.createElement("p",null,"Error! Changes can not be saved."),i.a.createElement("p",null,"Please check and make sure all inputs are correct!")):404===this.state.errorNum&&(e=i.a.createElement("div",{className:"warning"},i.a.createElement("p",null,"Error! Changes can not be saved."),i.a.createElement("p",null,"It seems the page has been removed."))),t=i.a.createElement(D,{onSubmit:this.onSubmit,description:this.state.description,onChangeDesc:this.onChangeDesc,director:this.state.director,onChangeDir:this.onChangeDir,rating:this.state.rating,onChangeRating:this.onChangeRating,title:this.state.title,onChangeTitle:this.onChangeTitle})):e=null,i.a.createElement("div",{id:"movie-directory"},i.a.createElement(d.Helmet,null,i.a.createElement("title",null,"Edit Movie")),i.a.createElement("header",null,i.a.createElement(C,null),i.a.createElement("h1",null,"Edit Movie")),e,t)}}]),t}(i.a.Component),N=(n(73),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(h.a)(t).call(this,e))).state={items:{},error:!1,redirect:!1},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;b.a.get("http://3.120.96.16:3001/movies/"+t).then((function(t){console.log(t);var n=t.data;e.setState({items:n})})).catch((function(t){console.log(t),e.setState({error:!0})}))}},{key:"onDelete",value:function(e){var t=this;b.a.delete("http://3.120.96.16:3001/movies/"+e).then((function(){t.setState({redirect:!0})}))}},{key:"render",value:function(){var e=this;console.log(this.state.items);var t,n=this.state.items,a="/editmovie/"+this.props.match.params.id;return this.state.redirect?i.a.createElement(p.a,{to:"/"}):(t=this.state.error?i.a.createElement("div",{className:"content"},i.a.createElement("h2",null,"ERROR 404"),i.a.createElement("h2",null,"Oops! The movie that you are looking for is not here!"),i.a.createElement("p",null,"Maybe the link is not complete or the page has been removed."),i.a.createElement("p",{className:"back-button"},i.a.createElement(m.b,{style:{marginRight:"15px",marginLeft:"0px",color:"rgb(10, 151, 161)"},to:"/"},i.a.createElement(E.b,{className:"nav-icon",size:"20px",color:"rgb(10, 151, 161)"})," Back to movies directory"))):i.a.createElement("div",{className:"content"},i.a.createElement("h2",null,n.title),i.a.createElement("h5",{className:"content-dir"},"Ratings: ",i.a.createElement("span",null,i.a.createElement(f.a,{value:n.rating,size:"15px",inactiveColor:"#d1d1d1",activeColor:"orange"}))),i.a.createElement("h3",{className:"content-dir"},"Director: ",n.director),i.a.createElement("p",null,n.description),i.a.createElement("div",{className:"buttons"},i.a.createElement("button",{className:"buttons-info delete",onClick:function(){return e.onDelete(n.id)}},"Delete"),i.a.createElement("button",{className:"buttons-info edit"},i.a.createElement(m.b,{style:{marginRight:"10px"},to:a},"Edit"))),i.a.createElement("p",{className:"back-button"},i.a.createElement(m.b,{style:{marginRight:"15px",marginLeft:"0px",color:"rgb(10, 151, 161)"},to:"/"},i.a.createElement(E.b,{className:"nav-icon",size:"20px",color:"rgb(10, 151, 161)"})," Back to movies directory"))),i.a.createElement("div",{id:"movie-directory"},i.a.createElement(d.Helmet,null,i.a.createElement("title",null,n.title)),i.a.createElement("header",null,i.a.createElement(C,null),i.a.createElement("h1",null,"Movie Info")),t))}}]),t}(i.a.Component)),R=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{id:"App"},i.a.createElement(m.a,{basename:"/ec-mandatory-advance-js2"},i.a.createElement(p.b,{exact:!0,path:"/",component:k}),i.a.createElement(p.b,{path:"/addmovie",component:O}),i.a.createElement(p.b,{path:"/editmovie/:id",component:S}),i.a.createElement(p.b,{path:"/movies/:id",component:N})))}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.4d62f641.chunk.js.map